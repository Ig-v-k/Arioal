<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <f:view>
        <h:head>
            <title>Rejestracja | Arioal</title>
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
            <link type="text/css" rel="stylesheet" href="resources/css/layout.css"/>
            <link rel="shortcut icon" type="image/x-icon" href="resources/images/arioallogo.png"/>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        </h:head>
        <h:body style="background-color: whitesmoke; height: 100%">
            <p:tooltip/>
            <div class="d-center" style="height: 100%">
                <p:card style="width: 350px; margin: 0">
                    <f:facet name="title">
                        <h:graphicImage value="resources/images/arioaltype.png" width="90"/>
                        <br/>
                        Rejestracja
                    </f:facet>
                    <f:facet name="subtitle">
                        Prosimy zarejestrowac sie.
                    </f:facet>

                    <h:form id="login-form">
                        <div id="login-content_container">
                            <div class="ui-fluid" style="padding: 20px 0">
                                <div class="p-field" style="margin-bottom: 10px">
                                <span class="ui-float-label">
                                    <p:inputText id="username_login" styleClass="p-d-block" title="Login"
                                                 value="#{registrationController.username}"
                                                 requiredMessage="Login jest wymagane" maxlength="40"
                                                 type="username" required="true"/>
                                    <p:outputLabel for="@previous" value="Username:"/>
                                    <p:message for="username_login"/>
                                </span>
                                </div>

                                <div class="p-field" style="margin-bottom: 10px">
                                <span class="ui-float-label">
                                    <p:inputText id="email_login" styleClass="p-d-block" title="Email"
                                                 value="#{registrationController.email}"
                                                 requiredMessage="Email jest wymagane" maxlength="100"
                                                 type="email" required="true">
                                        <f:validator validatorId="emailValidator"/>
                                    </p:inputText>
                                    <p:outputLabel for="@previous" value="Email:"/>
                                    <p:message for="email_login"/>
                                </span>
                                </div>

                                <div class="p-field">
                                <span class="ui-float-label">
                                    <p:password id="password_login" value="#{registrationController.password}"
                                                toggleMask="true"
                                                redisplay="true" style="width: 100%" required="true"
                                                requiredMessage="Haslo jest wymagane" title="Haslo"/>
                                    <p:outputLabel for="@previous" value="Haslo:"/>
                                    <p:message for="password_login"/>
                                </span>
                                </div>
                                <h:outputText value="#{registrationController.status}" id="status_login"
                                              styleClass="p-d-block"/>
                            </div>

                            <p:commandButton id="login-submit" type="submit" update="@form" value="Zarejestrowac"
                                             styleClass="ui-button-raised p-mr-2"
                                             actionListener="#{registrationController.execute}">
                                <f:ajax execute="username_login email_login password_login" render="status_login"/>
                            </p:commandButton>
                            <p:commandButton type="reset" value="Clear" styleClass="ui-button-flat"/>
                        </div>
                    </h:form>

                    <f:facet name="footer">
                        <div class="p-d-flex p-jc-between">
                            <p:link value="Source code" href="https://github.com/Ig-v-k/Arioal"/>
                            <p:link value="Login" outcome="login" style="float: right"/>
                        </div>
                    </f:facet>
                </p:card>
            </div>
        </h:body>
    </f:view>
</html>